<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 스크롤/여백 문제 해결 테스트 - 중소기업융합회 슬라이드</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* 테스트용 추가 스타일 */
        .test-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.8rem;
            z-index: 10000;
            line-height: 1.4;
        }
        
        .status-indicator {
            position: fixed;
            bottom: 10px;
            left: 10px;
            background: rgba(244, 169, 20, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 700;
            z-index: 10000;
        }
        
        .slide-debug {
            border: 2px dashed rgba(244, 169, 20, 0.5) !important;
        }
        
        .content-debug {
            border: 1px dashed rgba(255, 0, 0, 0.3) !important;
        }
    </style>
</head>
<body>
    <!-- 테스트 정보 패널 -->
    <div class="test-info">
        <div>📊 <strong>실시간 측정</strong></div>
        <div>화면 높이: <span id="viewportHeight">-</span>px</div>
        <div>슬라이드 높이: <span id="slideHeight">-</span>px</div>
        <div>콘텐츠 높이: <span id="contentHeight">-</span>px</div>
        <div>스크롤 여부: <span id="scrollStatus">-</span></div>
        <div>적용 클래스: <span id="appliedClass">-</span></div>
    </div>
    
    <!-- 상태 표시기 -->
    <div class="status-indicator" id="statusIndicator">
        ✅ 최적화 완료
    </div>

    <div class="slideshow-container">
        <div class="slide slide-debug">
            <div class="slide-header">
                <div class="slide-number">테스트 / 8</div>
                <h2 class="slide-title">🚀 스크롤/여백 문제 해결 테스트</h2>
                <p class="slide-subtitle">동적 높이 시스템 및 콘텐츠 최적화 검증</p>
            </div>
            <div class="slide-content content-debug">
                <!-- 콘텐츠 양 조절 버튼 -->
                <div style="background: rgba(244, 169, 20, 0.1); padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 1px solid rgba(244, 169, 20, 0.3);">
                    <h3 style="margin: 0 0 12px 0; color: var(--primary-600);">🎛️ 테스트 컨트롤</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="setContentLevel('light')" style="padding: 8px 16px; background: var(--primary-500); color: white; border: none; border-radius: 6px; cursor: pointer;">콘텐츠 적음</button>
                        <button onclick="setContentLevel('medium')" style="padding: 8px 16px; background: var(--primary-500); color: white; border: none; border-radius: 6px; cursor: pointer;">콘텐츠 보통</button>
                        <button onclick="setContentLevel('heavy')" style="padding: 8px 16px; background: var(--primary-500); color: white; border: none; border-radius: 6px; cursor: pointer;">콘텐츠 많음</button>
                        <button onclick="toggleDebugBorders()" style="padding: 8px 16px; background: #666; color: white; border: none; border-radius: 6px; cursor: pointer;">디버그 테두리</button>
                        <button onclick="toggleCompactMode()" style="padding: 8px 16px; background: #333; color: white; border: none; border-radius: 6px; cursor: pointer;">컴팩트 모드</button>
                    </div>
                </div>

                <!-- 기본 콘텐츠 -->
                <div class="content-grid two-col" id="dynamicContent">
                    <div class="content-card">
                        <div class="card-header">
                            <span class="card-number">1</span>해결된 문제점
                        </div>
                        <ul class="slide-list">
                            <li>✅ 고정 높이로 인한 스크롤 발생</li>
                            <li>✅ 콘텐츠 부족시 여백 과다</li>
                            <li>✅ 슬라이드별 일관성 부족</li>
                            <li>✅ 반응형 대응 미흡</li>
                        </ul>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <span class="card-number">2</span>구현된 해결책
                        </div>
                        <ul class="slide-list">
                            <li>🚀 동적 높이 시스템 (min/max)</li>
                            <li>🎯 슬라이드별 맞춤 클래스</li>
                            <li>📱 반응형 컴팩트 모드</li>
                            <li>⚡ 실시간 자동 조정</li>
                        </ul>
                    </div>
                </div>
                
                <!-- 추가 콘텐츠 (동적 추가/제거) -->
                <div id="additionalContent" style="display: none;">
                    <div class="metrics-grid" style="margin: 20px 0;">
                        <div class="metric-card">
                            <div class="metric-number">0px</div>
                            <div class="metric-label">스크롤 높이</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">100%</div>
                            <div class="metric-label">화면 최적화</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">Auto</div>
                            <div class="metric-label">높이 조절</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-number">Smart</div>
                            <div class="metric-label">반응형 시스템</div>
                        </div>
                    </div>
                    
                    <!-- 더 많은 콘텐츠 -->
                    <div style="background: rgba(244, 169, 20, 0.05); padding: 16px; border-radius: 12px; border: 1px solid rgba(244, 169, 20, 0.2); margin: 20px 0;">
                        <h4 style="margin: 0 0 12px 0; color: var(--primary-600); font-size: 1rem; font-weight: 700;">📊 성능 개선 지표</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                            <div style="background: rgba(255, 255, 255, 0.8); padding: 12px; border-radius: 8px;">
                                <div style="font-weight: 700; color: var(--primary-600); margin-bottom: 6px;">스크롤 문제</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">
                                    Before: 콘텐츠 넘침시 스크롤<br>
                                    After: 동적 높이로 완벽 맞춤
                                </div>
                            </div>
                            <div style="background: rgba(255, 255, 255, 0.8); padding: 12px; border-radius: 8px;">
                                <div style="font-weight: 700; color: var(--primary-600); margin-bottom: 6px;">여백 문제</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">
                                    Before: 콘텐츠 부족시 여백<br>
                                    After: 공간 최적화로 균형
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 극한 테스트용 콘텐츠 -->
                    <div id="extremeContent" style="display: none;">
                        <div style="background: rgba(255, 0, 0, 0.1); padding: 12px; border-radius: 8px; margin: 15px 0; border: 1px solid rgba(255, 0, 0, 0.2);">
                            <h4 style="color: #d32f2f; margin: 0 0 8px 0;">🔥 극한 콘텐츠 테스트</h4>
                            <p style="margin: 0; font-size: 0.9rem; line-height: 1.4;">
                                이것은 매우 긴 콘텐츠입니다. 기존 시스템에서는 이런 긴 콘텐츠가 들어가면 스크롤이 발생했지만, 
                                새로운 동적 높이 시스템에서는 최대 높이까지 늘어나고, 그래도 넘치면 컴팩트 모드로 자동 전환됩니다.
                                이를 통해 사용자는 스크롤 없이도 모든 콘텐츠를 볼 수 있게 됩니다.
                            </p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px 0;">
                            <div style="background: rgba(244, 169, 20, 0.1); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="font-weight: 700; color: var(--primary-600); font-size: 0.8rem;">테스트 1</div>
                                <div style="font-size: 0.7rem; color: var(--text-secondary);">콘텐츠 오버플로우</div>
                            </div>
                            <div style="background: rgba(244, 169, 20, 0.1); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="font-weight: 700; color: var(--primary-600); font-size: 0.8rem;">테스트 2</div>
                                <div style="font-size: 0.7rem; color: var(--text-secondary);">자동 조정</div>
                            </div>
                            <div style="background: rgba(244, 169, 20, 0.1); padding: 10px; border-radius: 6px; text-align: center;">
                                <div style="font-weight: 700; color: var(--primary-600); font-size: 0.8rem;">테스트 3</div>
                                <div style="font-size: 0.7rem; color: var(--text-secondary);">완벽 맞춤</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/script.js"></script>
    <script>
        // 테스트용 JavaScript
        let debugMode = false;
        let currentContentLevel = 'medium';
        
        // 실시간 측정 업데이트
        function updateMeasurements() {
            const viewportHeight = window.innerHeight;
            const slide = document.querySelector('.slide');
            const content = document.querySelector('.slide-content');
            
            document.getElementById('viewportHeight').textContent = viewportHeight;
            document.getElementById('slideHeight').textContent = slide ? slide.offsetHeight : '-';
            document.getElementById('contentHeight').textContent = content ? content.scrollHeight : '-';
            
            // 스크롤 여부 확인
            const hasScroll = content && content.scrollHeight > content.offsetHeight;
            document.getElementById('scrollStatus').textContent = hasScroll ? '❌ 있음' : '✅ 없음';
            document.getElementById('scrollStatus').style.color = hasScroll ? '#ff4444' : '#44ff44';
            
            // 적용된 클래스 확인
            const appliedClasses = slide ? Array.from(slide.classList).filter(c => c.includes('content-') || c.includes('compact') || c.includes('slide')).join(', ') : '-';
            document.getElementById('appliedClass').textContent = appliedClasses || 'none';
            
            // 상태 표시기 업데이트
            const statusIndicator = document.getElementById('statusIndicator');
            if (hasScroll) {
                statusIndicator.textContent = '⚠️ 스크롤 발생';
                statusIndicator.style.background = 'rgba(255, 68, 68, 0.9)';
            } else {
                statusIndicator.textContent = '✅ 최적화 완료';
                statusIndicator.style.background = 'rgba(244, 169, 20, 0.9)';
            }
        }
        
        // 콘텐츠 레벨 설정
        function setContentLevel(level) {
            currentContentLevel = level;
            const additionalContent = document.getElementById('additionalContent');
            const extremeContent = document.getElementById('extremeContent');
            const slide = document.querySelector('.slide');
            
            // 기존 클래스 제거
            slide.classList.remove('content-light', 'content-medium', 'content-heavy');
            
            switch(level) {
                case 'light':
                    additionalContent.style.display = 'none';
                    extremeContent.style.display = 'none';
                    slide.classList.add('content-light');
                    break;
                case 'medium':
                    additionalContent.style.display = 'block';
                    extremeContent.style.display = 'none';
                    slide.classList.add('content-medium');
                    break;
                case 'heavy':
                    additionalContent.style.display = 'block';
                    extremeContent.style.display = 'block';
                    slide.classList.add('content-heavy');
                    break;
            }
            
            // 스타일 재적용
            if (window.SlideNav && typeof window.SlideNav.applySlideSpecificStyles === 'function') {
                setTimeout(() => {
                    window.SlideNav.applySlideSpecificStyles();
                    window.SlideNav.autoAdjustContentHeight();
                    updateMeasurements();
                }, 100);
            }
            
            setTimeout(updateMeasurements, 200);
        }
        
        // 디버그 테두리 토글
        function toggleDebugBorders() {
            debugMode = !debugMode;
            const slide = document.querySelector('.slide');
            const content = document.querySelector('.slide-content');
            
            if (debugMode) {
                slide.classList.add('slide-debug');
                content.classList.add('content-debug');
            } else {
                slide.classList.remove('slide-debug');
                content.classList.remove('content-debug');
            }
        }
        
        // 컴팩트 모드 토글
        function toggleCompactMode() {
            const slide = document.querySelector('.slide');
            slide.classList.toggle('compact-mode');
            setTimeout(updateMeasurements, 100);
        }
        
        // 초기화 및 이벤트 리스너
        document.addEventListener('DOMContentLoaded', function() {
            updateMeasurements();
            setContentLevel('medium');
            
            // 리사이즈 이벤트
            window.addEventListener('resize', function() {
                setTimeout(updateMeasurements, 100);
            });
            
            // 주기적 업데이트
            setInterval(updateMeasurements, 1000);
        });
    </script>
</body>
</html>